<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Centurion: Event Handler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-fancy-scrollbars.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="centurion.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Centurion
   &#160;<span id="projectnumber">7.0.0</span>
   </div>
   <div id="projectbrief">A modern C++ wrapper library for SDL2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('page-event-handler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Event Handler </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><b>Synopsis:</b> Demonstrates the basics of the <code>event_handler</code> API.</p>
<p >The <code>event_handler</code> class is the main interface for working with events in the Centurion library, through which there are a couple of different ways to query information about pending events.</p>
<p >First of, the templated overload of <code>event_handler::is()</code> takes an event type, and simply checks whether the pending event is of the specified type. However, this function is limited to checking for events that have dedicated event types, which far from all event types have. For more widely applicable and fine-grained checks, the <code>event_handler::is(event_type)</code> function can be used to check whether the pending event is of a specific type.</p>
<p >Furthermore, there are more direct getters to retrieve the representations of the pending event, using the <code>event_handler::get&lt;T&gt;()</code> and <code>event_handler::try_get&lt;T&gt;()</code> functions. The <code>get&lt;T&gt;()</code> function throws an exception if the pending event is of a different type, whilst <code>try_get&lt;T&gt;()</code> is a non-throwing alternative.</p>
<p >The demo shows the basics of how to create a program that can respond to system events. The window will change color every time a keyboard button is pressed, and the last mouse press in the window is also displayed.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;centurion.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;array&gt;</span>     <span class="comment">// array</span></div>
<div class="line"><span class="preprocessor">#include &lt;cstddef&gt;</span>   <span class="comment">// size_t</span></div>
<div class="line"><span class="preprocessor">#include &lt;optional&gt;</span>  <span class="comment">// optional</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>{</div>
<div class="line"> </div>
<div class="line"><span class="keyword">constexpr</span> std::array colors = {<a class="code hl_variable" href="namespacecen_1_1colors.html#a606184cb6e6c9c0359db564a99a42b2f">cen::colors::hot_pink</a>,</div>
<div class="line">                               <a class="code hl_variable" href="namespacecen_1_1colors.html#aad8cf484184db55309c898e4d300c48b">cen::colors::dark_olive_green</a>,</div>
<div class="line">                               <a class="code hl_variable" href="namespacecen_1_1colors.html#a3f9eef24aa232ea082330ed4b657a01d">cen::colors::dark_turquoise</a>};</div>
<div class="line"> </div>
<div class="line">}  <span class="comment">// namespace</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span>, <span class="keywordtype">char</span>**)</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">const</span> <a class="code hl_class" href="classcen_1_1sdl.html">cen::sdl</a> sdl;</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_class" href="classcen_1_1basic__window.html">cen::window</a> <a class="code hl_typedef" href="group__video.html#gad2eb382608242f24cf986eee93ea144c">window</a>{<span class="stringliteral">&quot;event_handler demo&quot;</span>};</div>
<div class="line">  <a class="code hl_class" href="classcen_1_1basic__renderer.html">cen::renderer</a> <a class="code hl_typedef" href="group__render.html#gaf6dbad20a46b69892b5e694a4069ae42">renderer</a> = <a class="code hl_typedef" href="group__video.html#gad2eb382608242f24cf986eee93ea144c">window</a>.make_renderer();</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_typedef" href="group__video.html#gad2eb382608242f24cf986eee93ea144c">window</a>.show();</div>
<div class="line"> </div>
<div class="line">  <span class="comment">/* Create our event handler, which provides our event management API */</span></div>
<div class="line">  <a class="code hl_class" href="classcen_1_1event__handler.html">cen::event_handler</a> handler;</div>
<div class="line"> </div>
<div class="line">  std::size_t colorIndex = 0;</div>
<div class="line">  std::optional&lt;cen::ipoint&gt; mousePos;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> running = <span class="keyword">true</span>;</div>
<div class="line">  <span class="keywordflow">while</span> (running) {</div>
<div class="line">    <span class="comment">/* Go through the event queue, handling the different pending events */</span></div>
<div class="line">    <span class="keywordflow">while</span> (handler.<a class="code hl_function" href="classcen_1_1event__handler.html#a7ed11595e1c07a0eaff96b628a93cac3">poll</a>()) {</div>
<div class="line">      <span class="keywordflow">if</span> (handler.<a class="code hl_function" href="classcen_1_1event__handler.html#adc0bf5d5967ffc62e8d151306a49e0cc">is</a>&lt;<a class="code hl_class" href="classcen_1_1quit__event.html">cen::quit_event</a>&gt;()) {</div>
<div class="line">        running = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (handler.<a class="code hl_function" href="classcen_1_1event__handler.html#adc0bf5d5967ffc62e8d151306a49e0cc">is</a>(<a class="code hl_enumvalue" href="group__event.html#ggaeb4d53edaa173984689adc358463ecada88aee4617a01e1e5da7f11f3b5fb7ac0">cen::event_type::key_down</a>)) {</div>
<div class="line">        <span class="comment">/* We received a keyboard event, so get the internal event representation. */</span></div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; keyboardEvent = handler.<a class="code hl_function" href="classcen_1_1event__handler.html#a04a2d8226252932520a1d987a83b57e0">get</a>&lt;<a class="code hl_class" href="classcen_1_1keyboard__event.html">cen::keyboard_event</a>&gt;();</div>
<div class="line">        <span class="keywordflow">if</span> (!keyboardEvent.repeated()) {</div>
<div class="line">          colorIndex = (colorIndex + 1u) % colors.size();</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span>* buttonEvent = handler.<a class="code hl_function" href="classcen_1_1event__handler.html#aa29779e241fd04d04e808c5f4cce1162">try_get</a>&lt;<a class="code hl_class" href="classcen_1_1mouse__button__event.html">cen::mouse_button_event</a>&gt;()) {</div>
<div class="line">        <span class="keywordflow">if</span> (buttonEvent-&gt;pressed()) {</div>
<div class="line">          mousePos = buttonEvent-&gt;position();</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedef" href="group__render.html#gaf6dbad20a46b69892b5e694a4069ae42">renderer</a>.clear_with(colors.at(colorIndex));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (mousePos) {</div>
<div class="line">      <a class="code hl_typedef" href="group__render.html#gaf6dbad20a46b69892b5e694a4069ae42">renderer</a>.set_color(colors.at((colorIndex + 1u) % colors.size()));</div>
<div class="line"> </div>
<div class="line">      <a class="code hl_class" href="classcen_1_1basic__rect.html">cen::irect</a> rect{*mousePos, {6, 6}};</div>
<div class="line">      rect.<a class="code hl_function" href="classcen_1_1basic__rect.html#a4b90146c5be149213763206402e9a5f6">offset_x</a>(-3);</div>
<div class="line">      rect.offset_y(-3);</div>
<div class="line"> </div>
<div class="line">      <a class="code hl_typedef" href="group__render.html#gaf6dbad20a46b69892b5e694a4069ae42">renderer</a>.fill_rect(rect);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_typedef" href="group__render.html#gaf6dbad20a46b69892b5e694a4069ae42">renderer</a>.present();</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_typedef" href="group__video.html#gad2eb382608242f24cf986eee93ea144c">window</a>.hide();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclasscen_1_1basic__rect_html"><div class="ttname"><a href="classcen_1_1basic__rect.html">cen::basic_rect</a></div><div class="ttdoc">A simple rectangle implementation, based on either SDL_Rect or SDL_FRect.</div><div class="ttdef"><b>Definition:</b> math.hpp:552</div></div>
<div class="ttc" id="aclasscen_1_1basic__rect_html_a4b90146c5be149213763206402e9a5f6"><div class="ttname"><a href="classcen_1_1basic__rect.html#a4b90146c5be149213763206402e9a5f6">cen::basic_rect::offset_x</a></div><div class="ttdeci">constexpr void offset_x(const value_type dx) noexcept</div><div class="ttdoc">Offsets the x-coordinate of the rectangle by the specified amount.</div><div class="ttdef"><b>Definition:</b> math.hpp:711</div></div>
<div class="ttc" id="aclasscen_1_1basic__renderer_html"><div class="ttname"><a href="classcen_1_1basic__renderer.html">cen::basic_renderer</a></div><div class="ttdoc">Provides the primary 2D rendering API.</div><div class="ttdef"><b>Definition:</b> render.hpp:143</div></div>
<div class="ttc" id="aclasscen_1_1basic__window_html"><div class="ttname"><a href="classcen_1_1basic__window.html">cen::basic_window</a></div><div class="ttdoc">Represents an operating-system window.</div><div class="ttdef"><b>Definition:</b> window.hpp:80</div></div>
<div class="ttc" id="aclasscen_1_1event__handler_html"><div class="ttname"><a href="classcen_1_1event__handler.html">cen::event_handler</a></div><div class="ttdoc">The main interface for dealing with events.</div><div class="ttdef"><b>Definition:</b> event.hpp:75</div></div>
<div class="ttc" id="aclasscen_1_1event__handler_html_a04a2d8226252932520a1d987a83b57e0"><div class="ttname"><a href="classcen_1_1event__handler.html#a04a2d8226252932520a1d987a83b57e0">cen::event_handler::get</a></div><div class="ttdeci">auto get() -&gt; T &amp;</div><div class="ttdoc">Returns the current event representation.</div><div class="ttdef"><b>Definition:</b> event.hpp:219</div></div>
<div class="ttc" id="aclasscen_1_1event__handler_html_a7ed11595e1c07a0eaff96b628a93cac3"><div class="ttname"><a href="classcen_1_1event__handler.html#a7ed11595e1c07a0eaff96b628a93cac3">cen::event_handler::poll</a></div><div class="ttdeci">auto poll() noexcept -&gt; bool</div><div class="ttdoc">Polls the next available event, if there is one.</div><div class="ttdef"><b>Definition:</b> event.hpp:115</div></div>
<div class="ttc" id="aclasscen_1_1event__handler_html_aa29779e241fd04d04e808c5f4cce1162"><div class="ttname"><a href="classcen_1_1event__handler.html#aa29779e241fd04d04e808c5f4cce1162">cen::event_handler::try_get</a></div><div class="ttdeci">auto try_get() noexcept -&gt; T *</div><div class="ttdoc">Attempts to return the current event representation.</div><div class="ttdef"><b>Definition:</b> event.hpp:242</div></div>
<div class="ttc" id="aclasscen_1_1event__handler_html_adc0bf5d5967ffc62e8d151306a49e0cc"><div class="ttname"><a href="classcen_1_1event__handler.html#adc0bf5d5967ffc62e8d151306a49e0cc">cen::event_handler::is</a></div><div class="ttdeci">auto is() const noexcept -&gt; bool</div><div class="ttdoc">Indicates whether the currently stored event is of a particular type.</div><div class="ttdef"><b>Definition:</b> event.hpp:139</div></div>
<div class="ttc" id="aclasscen_1_1keyboard__event_html"><div class="ttname"><a href="classcen_1_1keyboard__event.html">cen::keyboard_event</a></div><div class="ttdef"><b>Definition:</b> misc_events.hpp:229</div></div>
<div class="ttc" id="aclasscen_1_1mouse__button__event_html"><div class="ttname"><a href="classcen_1_1mouse__button__event.html">cen::mouse_button_event</a></div><div class="ttdef"><b>Definition:</b> mouse_events.hpp:74</div></div>
<div class="ttc" id="aclasscen_1_1quit__event_html"><div class="ttname"><a href="classcen_1_1quit__event.html">cen::quit_event</a></div><div class="ttdef"><b>Definition:</b> misc_events.hpp:51</div></div>
<div class="ttc" id="aclasscen_1_1sdl_html"><div class="ttname"><a href="classcen_1_1sdl.html">cen::sdl</a></div><div class="ttdoc">Used to load and subsequently unload the core SDL library.</div><div class="ttdef"><b>Definition:</b> initialization.hpp:77</div></div>
<div class="ttc" id="agroup__event_html_ggaeb4d53edaa173984689adc358463ecada88aee4617a01e1e5da7f11f3b5fb7ac0"><div class="ttname"><a href="group__event.html#ggaeb4d53edaa173984689adc358463ecada88aee4617a01e1e5da7f11f3b5fb7ac0">cen::event_type::key_down</a></div><div class="ttdeci">@ key_down</div></div>
<div class="ttc" id="agroup__render_html_gaf6dbad20a46b69892b5e694a4069ae42"><div class="ttname"><a href="group__render.html#gaf6dbad20a46b69892b5e694a4069ae42">cen::renderer</a></div><div class="ttdeci">basic_renderer&lt; detail::owner_tag &gt; renderer</div><div class="ttdoc">An owning renderer.</div><div class="ttdef"><b>Definition:</b> render.hpp:123</div></div>
<div class="ttc" id="agroup__video_html_gad2eb382608242f24cf986eee93ea144c"><div class="ttname"><a href="group__video.html#gad2eb382608242f24cf986eee93ea144c">cen::window</a></div><div class="ttdeci">basic_window&lt; detail::owner_tag &gt; window</div><div class="ttdoc">An owning window.</div><div class="ttdef"><b>Definition:</b> window.hpp:61</div></div>
<div class="ttc" id="anamespacecen_1_1colors_html_a3f9eef24aa232ea082330ed4b657a01d"><div class="ttname"><a href="namespacecen_1_1colors.html#a3f9eef24aa232ea082330ed4b657a01d">cen::colors::dark_turquoise</a></div><div class="ttdeci">constexpr color dark_turquoise</div><div class="ttdef"><b>Definition:</b> color.hpp:844</div></div>
<div class="ttc" id="anamespacecen_1_1colors_html_a606184cb6e6c9c0359db564a99a42b2f"><div class="ttname"><a href="namespacecen_1_1colors.html#a606184cb6e6c9c0359db564a99a42b2f">cen::colors::hot_pink</a></div><div class="ttdeci">constexpr color hot_pink</div><div class="ttdef"><b>Definition:</b> color.hpp:735</div></div>
<div class="ttc" id="anamespacecen_1_1colors_html_aad8cf484184db55309c898e4d300c48b"><div class="ttname"><a href="namespacecen_1_1colors.html#aad8cf484184db55309c898e4d300c48b">cen::colors::dark_olive_green</a></div><div class="ttdeci">constexpr color dark_olive_green</div><div class="ttdef"><b>Definition:</b> color.hpp:835</div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="page-examples.html">Examples</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
<script type="text/javascript">
    $(document).ready(function(){
        toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
        toggleButton.title = "Toggle Light/Dark Mode"
        $(document).ready(function(){
          document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
        })
        $(window).resize(function(){
          document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
        })
    })
</script>
</body>
</html>
